<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
   <link rel="stylesheet" href="/climate-risk-analysis/libs/katex/katex.min.css">
     
   
    <link rel="stylesheet" href="/climate-risk-analysis/libs/highlight/github.min.css">
   
    <script src="/climate-risk-analysis/libs/clipboard.min.js"></script>
  
  <link rel="stylesheet" href="/climate-risk-analysis/css/franklin.css">
<link rel="stylesheet" href="/climate-risk-analysis/css/poole_hyde.css">
<link rel="stylesheet" href="/climate-risk-analysis/css/custom.css">
<!-- style adjustments -->
<style>
  html {font-size: 17px;}
  .franklin-content {position: relative; padding-left: 8%; padding-right: 5%; line-height: 1.35em;}
  @media (min-width: 940px) {
    .franklin-content {width: 100%; margin-left: auto; margin-right: auto;}
  }
  @media (max-width: 768px) {
    .franklin-content {padding-left: 6%; padding-right: 6%;}
  }
</style>

   <title>Homework 1</title>  
</head>
<body>
<div class="sidebar">
  <div class="container">
    <div class="sidebar-about">
      <a href="https://cornell.edu"><img src="/climate-risk-analysis/assets/cornell_logo_simple_white.svg" style="width: 300px; height: auto; display: inline"></a>
      <div style="opacity: 0.8; font-weight: bold; margin-bottom: 0.5em">BEE 6940</div>
      <h1><a href="/climate-risk-analysis/">Climate Risk Analysis</a></h1>
      <p class="lead">Spring 2023</p>
    </div>
    <nav class="sidebar-nav">
      <a class="sidebar-nav-item " href="/climate-risk-analysis/">Welcome</a>
      <a class="sidebar-nav-item " href="/climate-risk-analysis/syllabus/">Syllabus</a>
      <a class="sidebar-nav-item " href="/climate-risk-analysis/schedule/">Class Schedule</a>
      <a class="sidebar-nav-item " href="/climate-risk-analysis/assignments/">Assignments and Projects</a>
      <a class="sidebar-nav-item " href="/climate-risk-analysis/software/">Computational Tools</a>
      <a class="sidebar-nav-item " href="/climate-risk-analysis/examples/">Julia Examples</a>
      <a class="sidebar-nav-item " href="/climate-risk-analysis/resources/">Resources</a>

    </nav>
  </div>
</div>
<div class="content container">

<!-- Content appended here -->
<div class="franklin-content"><div class="banner"><h1 id="title_topic"><a href="#title_topic" class="header-anchor">Homework 1: Julia Coding</a></h1></div>
Here is <a href="https://github.com/ClimateRiskAnalysis/hw1/">the repository for this problem set</a>. </p>
<p><strong>If you are enrolled in the class, make sure you use the GitHub Classroom link from the Ed Discussion Board rather than downloading directly</strong>.</p>
<p><div class="franklin-toc"><ol><li><a href="#overview">Overview</a><ol><li><a href="#instructions">Instructions</a></li></ol></li><li><a href="#problems_total_100_points">Problems &#40;Total: 100 Points&#41;</a><ol><li><a href="#problem_1_20_points">Problem 1 &#40;20 points&#41;</a></li><li><a href="#problem_2_20_points">Problem 2 &#40;20 points&#41;</a></li><li><a href="#problem_3_20_points">Problem 3 &#40;20 points&#41;</a></li><li><a href="#problem_4_20_points">Problem 4 &#40;20 points&#41;</a></li><li><a href="#problem_5_20_points">Problem 5 &#40;20 points&#41;</a></li></ol></li></ol></div><h2 id="overview"><a href="#overview" class="header-anchor">Overview</a></h2>
<h3 id="instructions"><a href="#instructions" class="header-anchor">Instructions</a></h3>
<ul>
<li><p>Problems 1-4 consist of a series of code snippets for you to interpret and debug. For Problems 1-3, you will be asked to identify relevant error&#40;s&#41; and fix the code. For Problem 4, the code works as intended; your goal is to identify the code&#39;s purpose by following its logic.</p>
</li>
<li><p>Problem 5 asks you to rewrite a &quot;script&quot; into a function, which you will then use to conduct an experiment.</p>
</li>
</ul>
<h2 id="problems_total_100_points"><a href="#problems_total_100_points" class="header-anchor">Problems &#40;Total: 100 Points&#41;</a></h2>
<h3 id="problem_1_20_points"><a href="#problem_1_20_points" class="header-anchor">Problem 1 &#40;20 points&#41;</a></h3>
<p>You&#39;ve been tasked with writing code to identify the minimum value in an array. You cannot use a predefined function. Your colleague suggested the function below, but it does not return the minimum value.</p>
<pre><code class="julia hljs"><span class="hljs-keyword">function</span> minimum(array)
    min_value = <span class="hljs-number">0</span>
    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-number">1</span>:length(array)
        <span class="hljs-keyword">if</span> array[i] &lt; min_value
            min_value = array[i]
        <span class="hljs-keyword">end</span>
    <span class="hljs-keyword">end</span>
    <span class="hljs-keyword">return</span> min_value
<span class="hljs-keyword">end</span>

array_values = [<span class="hljs-number">89</span>, <span class="hljs-number">90</span>, <span class="hljs-number">95</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>, <span class="hljs-number">78</span>, <span class="hljs-number">99</span>, <span class="hljs-number">98</span>, <span class="hljs-number">100</span>, <span class="hljs-number">95</span>]
<span class="hljs-meta">@show</span> minimum(array_values);</code></pre><pre><code class="plaintext hljs">minimum(array_values) = 0
</code></pre>
<h4 id="problem_11_10_points"><a href="#problem_11_10_points" class="header-anchor">Problem 1.1 &#40;10 points&#41;</a></h4>
<p>Describe the logic error.</p>
<h4 id="problem_12_5_points"><a href="#problem_12_5_points" class="header-anchor">Problem 1.2 &#40;5 points&#41;</a></h4>
<p>Write a fixed version of the function.</p>
<h4 id="problem_13_5_points"><a href="#problem_13_5_points" class="header-anchor">Problem 1.3 &#40;5 points&#41;</a></h4>
<p>Use your fixed function to find the minimum value of <code>array_values</code>.</p>
<h3 id="problem_2_20_points"><a href="#problem_2_20_points" class="header-anchor">Problem 2 &#40;20 points&#41;</a></h3>
<p>Your team is trying to compute the average grade for your class, but the following code produces an error.</p>
<pre><code class="julia hljs">student_grades = [<span class="hljs-number">89</span>, <span class="hljs-number">90</span>, <span class="hljs-number">95</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>, <span class="hljs-number">78</span>, <span class="hljs-number">99</span>, <span class="hljs-number">98</span>, <span class="hljs-number">100</span>, <span class="hljs-number">95</span>]
<span class="hljs-keyword">function</span> class_average(grades)
  average_grade = mean(student_grades)
  <span class="hljs-keyword">return</span> average_grade
<span class="hljs-keyword">end</span>

<span class="hljs-meta">@show</span> average_grade;</code></pre>
<h4 id="problem_21_10_points"><a href="#problem_21_10_points" class="header-anchor">Problem 2.1 &#40;10 points&#41;</a></h4>
<p>Describe the logic and/or syntax error.</p>
<h4 id="problem_22_5_points"><a href="#problem_22_5_points" class="header-anchor">Problem 2.2 &#40;5 points&#41;</a></h4>
<p>Write a fixed version of the code.</p>
<h4 id="problem_23_5_points"><a href="#problem_23_5_points" class="header-anchor">Problem 2.3 &#40;5 points&#41;</a></h4>
<p>Use your fixed code to compute the average grade for the class.</p>
<h3 id="problem_3_20_points"><a href="#problem_3_20_points" class="header-anchor">Problem 3 &#40;20 points&#41;</a></h3>
<p>Your team has collected data on the mileage of different car models. You want to calculate the average mileage per gallon &#40;MPG&#41; for the different cars, but your code produces the same value for all of the vehicles, which makes you suspicious.</p>
<pre><code class="julia hljs"><span class="hljs-keyword">function</span> calculate_MPG((miles, gallons))
    <span class="hljs-keyword">return</span> miles / gallons
<span class="hljs-keyword">end</span>

car_miles =  [(<span class="hljs-number">334</span>, <span class="hljs-number">11</span>), (<span class="hljs-number">289</span>, <span class="hljs-number">15</span>), (<span class="hljs-number">306</span>, <span class="hljs-number">12</span>), (<span class="hljs-number">303</span>, <span class="hljs-number">20</span>), (<span class="hljs-number">350</span>, <span class="hljs-number">20</span>), (<span class="hljs-number">294</span>, <span class="hljs-number">14</span>)]

mpg = zeros(length(car_miles))

<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-number">1</span>:length(car_miles)
    miles = car_miles[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>]
    gallon = car_miles[<span class="hljs-number">1</span>][<span class="hljs-number">2</span>]
    mpg[i] = calculate_MPG((miles, gallon))
<span class="hljs-keyword">end</span>
<span class="hljs-meta">@show</span> mpg;</code></pre><pre><code class="plaintext hljs">mpg = [30.363636363636363, 30.363636363636363, 30.363636363636363, 30.363636363636363, 30.363636363636363, 30.363636363636363]
</code></pre>
<h5 id="problem_31_10_points"><a href="#problem_31_10_points" class="header-anchor">Problem 3.1 &#40;10 points&#41;</a></h5>
<p>Describe the logic error.</p>
<h4 id="problem_32_5_points"><a href="#problem_32_5_points" class="header-anchor">Problem 3.2 &#40;5 points&#41;</a></h4>
<p>Write a fixed version of the code.</p>
<h4 id="problem_33_5_points"><a href="#problem_33_5_points" class="header-anchor">Problem 3.3 &#40;5 points&#41;</a></h4>
<p>Use your fixed code to compute the MPGs.</p>
<h3 id="problem_4_20_points"><a href="#problem_4_20_points" class="header-anchor">Problem 4 &#40;20 points&#41;</a></h3>
<p>You&#39;ve been handed some code to analyze. The original coder was not very considerate of other potential users: the function is called <code>mystery_function</code> and there are no comments explaining the purpose of the code. It appears to take in an array and return some numbers, and you&#39;ve been assured that the code works as intended.</p>
<pre><code class="julia hljs"><span class="hljs-keyword">function</span> mystery_function(values)
    y = []
    <span class="hljs-keyword">for</span> v <span class="hljs-keyword">in</span> values
        <span class="hljs-keyword">if</span> !(v <span class="hljs-keyword">in</span> y)
            append!(y, v)
        <span class="hljs-keyword">end</span>
    <span class="hljs-keyword">end</span>
    <span class="hljs-keyword">return</span> y
<span class="hljs-keyword">end</span>

list_of_values = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>]
<span class="hljs-meta">@show</span> mystery_function(list_of_values);</code></pre><pre><code class="plaintext hljs">mystery_function(list_of_values) = Any[1, 2, 3, 4]
</code></pre>
<h4 id="problem_41_10_points"><a href="#problem_41_10_points" class="header-anchor">Problem 4.1 &#40;10 points&#41;</a></h4>
<p>Explain the purpose of <code>mystery_function</code>.</p>
<h4 id="problem_42_10_points"><a href="#problem_42_10_points" class="header-anchor">Problem 4.2 &#40;10 points&#41;</a></h4>
<p>Add comments to the code, explaining why and how it works. Refer to <a href="https://stackoverflow.blog/2021/12/23/best-practices-for-writing-code-comments/">&quot;Best Practices for Writing Code Comments&quot;</a>, and remember that bad comments can be just as bad as no comments at all. You do not need to add comments to every line &#40;in fact, this is very bad practice&#41;, but you should note the <em>purpose</em> of every &quot;section&quot; of code, and add comments explaining any code sequences that you don&#39;t immediately understand.</p>
<h3 id="problem_5_20_points"><a href="#problem_5_20_points" class="header-anchor">Problem 5 &#40;20 points&#41;</a></h3>
<p>You and your classmate are trying to determine the expected payoff of the following game:</p>
<ul>
<li><p>Flip a coin &#40;which has probability <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi></mrow><annotation encoding="application/x-tex">p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">p</span></span></span></span> of heads&#41; 10 times;</p>
</li>
<li><p>If 3 consecutive heads occur one or more times, pay 1 dollar;</p>
</li>
<li><p>If not, pay nothing.</p>
</li>
</ul>
<p>Your classmate has written the following code, which correctly simulates one realization of this game with a fair coin.</p>
<pre><code class="julia hljs"><span class="hljs-comment"># initialize variables, as this code works by iterating over each coin flip and adding</span>
<span class="hljs-keyword">let</span> payoff = <span class="hljs-number">0</span>, count = <span class="hljs-number">0</span>

    <span class="hljs-comment"># loop over coin flips and compute payoff: this code is pretty literal with the rules of the game other than just using `rand()` to produce the heads vs. tails coin outcome.</span>
    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-number">1</span>:<span class="hljs-number">10</span>
        U = rand()
        <span class="hljs-keyword">if</span> U &lt; <span class="hljs-number">0.5</span>
            count += <span class="hljs-number">1</span>
        <span class="hljs-keyword">else</span>
            count = <span class="hljs-number">0</span>
        <span class="hljs-keyword">end</span>
        <span class="hljs-keyword">if</span> count == <span class="hljs-number">3</span>
            payoff = <span class="hljs-number">1</span>
        <span class="hljs-keyword">end</span>
    <span class="hljs-keyword">end</span>
    <span class="hljs-meta">@show</span> payoff;
<span class="hljs-keyword">end</span></code></pre><pre><code class="plaintext hljs">payoff = 1
1</code></pre>
<p>However, you would like to conduct multiple trials to compute the expected payoff, and might want to look at coins which are not fair &#40;<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo mathvariant="normal">≠</mo><mn>0.5</mn></mrow><annotation encoding="application/x-tex">p \neq 0.5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">p</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="inner"><span class="mord"><span class="mrel"></span></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0.5</span></span></span></span>&#41;. To minimize copying-and-pasting code, you decide to turn this script into a function.</p>
<h4 id="problem_51_10_points"><a href="#problem_51_10_points" class="header-anchor">Problem 5.1 &#40;10 points&#41;</a></h4>
<p>Rewrite the above code in a function which accepts two arguments: the number of trials <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> and the probability of heads <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi></mrow><annotation encoding="application/x-tex">p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">p</span></span></span></span>, and returns the expected payoff.</p>
<h4 id="problem_52_10_points"><a href="#problem_52_10_points" class="header-anchor">Problem 5.2 &#40;10 points&#41;</a></h4>
<p>Use your function to compare the expected payoff after 1000 trials of this game with a fair coin vs. a coin which has a 70&#37; probability of heads.</p>

<div class="page-foot">
  <div class="copyright">
    <a href="https://github.com/vsrikrish/climate-risk-analysis/"><b><img class="github-logo" src="https://unpkg.com/ionicons@5.1.2/dist/svg/logo-github.svg"></img> repository for this site.</b></a></br>

    Last modified: February 16, 2023. Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a> and the <a href="https://julialang.org">Julia programming language</a>.
  </div>
</div>
</div><!-- CONTENT ENDS HERE -->
    </div>  <!-- div: content container -->
    
        



    
    
        


        <!-- http://tutsplus.github.io/clipboard/ -->

<script>
    (function(){
    
        // Get the elements.
        // - the 'pre' element.
        // - the 'div' with the 'paste-content' id.
    
        var pre = document.getElementsByTagName('pre');
    
        // Add a copy button in the 'pre' element.
        // which only has the className of 'language-'.
    
        for (var i = 0; i < pre.length; i++) {
            var isLanguage = pre[i].children[0].className.indexOf('language-');
    
            if ( isLanguage === 0 ) {
                var button           = document.createElement('button');
                        button.className = 'copy-button';
                        button.textContent = 'Copy';
    
                        pre[i].appendChild(button);
            }
        };
    
        // Run Clipboard
    
        var copyCode = new Clipboard('.copy-button', {
            target: function(trigger) {
                return trigger.previousElementSibling;
        }
        });
    
        // On success:
        // - Change the "Copy" text to "Copied".
        // - Swap it to "Copy" in 2s.
        // - Lead user to the "contenteditable" area with Velocity scroll.
    
        copyCode.on('success', function(event) {
            event.clearSelection();
            event.trigger.textContent = 'Copied';
            window.setTimeout(function() {
                event.trigger.textContent = 'Copy';
            }, 2000);
    
        });
    
        // On error (Safari):
        // - Change the  "Press Ctrl+C to copy"
        // - Swap it to "Copy" in 2s.
    
        copyCode.on('error', function(event) {
            event.trigger.textContent = 'Press "Ctrl + C" to copy';
            window.setTimeout(function() {
                event.trigger.textContent = 'Copy';
            }, 5000);
        });
    
    })();
</script>
    
    
  </body>
</html>
